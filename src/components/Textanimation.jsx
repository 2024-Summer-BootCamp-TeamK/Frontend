import React, { useEffect } from 'react';
import styled from 'styled-components';

// 스타일 정의
const Svg = styled.svg`
  .svg-bg path,
  .svg-main path {
    stroke-dasharray: var(--length);  // path의 길이 설정
    stroke-dashoffset: var(--length); // 초기 위치 설정
    animation: draw var(--duration) linear forwards; // 애니메이션 설정
    animation-delay: var(--delay); // 애니메이션 지연 시간 설정
  }

  @keyframes draw {
    to {
      stroke-dashoffset: 0; // 최종 위치 설정 (애니메이션 종료 시)
    }
  }
`;

// Textanimation 컴포넌트 정의
const Textanimation = () => {
    useEffect(() => {
        // svg-bg 클래스의 path 요소 선택
        const bgPaths = document.querySelectorAll('.svg-bg path');
        bgPaths.forEach((path, i) => {
            const length = path.getTotalLength();
            path.style.setProperty('--length', length); // path 길이 설정
            path.style.setProperty('--duration', `${length * 10}ms`); // 애니메이션 지속 시간 설정
            path.style.setProperty('--delay', i * `${i * 100}ms`); // 애니메이션 지연 시간 설정
        });

        // svg-main 클래스의 path 요소 선택
        const mainPaths = document.querySelectorAll('.svg-main path');
        mainPaths.forEach((path, i) => {
            const length = path.getTotalLength();
            path.style.setProperty('--length', length);
            path.style.setProperty('--duration', `${length * 10}ms`);
            path.style.setProperty('--delay', `${i * 100}ms`);
        });
    }, []);

    return (
        <Svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 714.81 177">
            <defs>
                <style>
                    {`
            .cls-1 {
              stroke-width: 12px;
            }

            .cls-1, .cls-2, .cls-3 {
              fill: none;
              stroke: #e7470a;
              stroke-miterlimit: 10;
            }

            .cls-2 {
              stroke-width: 9px;
            }

            .cls-3 {
              stroke-width: 10px;
            }
          `}
                </style>
                <clipPath id="clip01">
                    <path className="cls-1" d="M303.94,20.99s.92-11.8-4.74-12.11-16.3-.64-11.16,12.46c0,0,7.91,8.32,15.95,20.55s-9.84,13.61-9.84,13.61c0,0-7.77-5.5-7.48-12.99s0-3.52,0-3.52" />
                </clipPath>
                <clipPath id="clip02">
                    <polyline className="cls-1" points="316.17 3.99 316.17 59.94 316.78 30.75 331.46 29.52 332.99 5.22 332.99 59.94" />
                </clipPath>
                <clipPath id="clip03">
                    <path className="cls-2" d="M353.84,5.52l-6.79,36.44-.15.82-3.06,16.4,5-15.9s9.67-.31,10.13-.31,5.04,16.2,5.04,16.2l-6.61-37.83v-6.35l1.26-2.75.83-5.3" />
                </clipPath>
                <clipPath id="clip04">
                    <path className="cls-1" d="M374.87,3.99v55.95l1.22-51.15s18.19-7.24,13.3,20.73l-11.16,2.45s13.3-4.13,13.15,14.68v13.3" />
                </clipPath>
                <clipPath id="clip05">
                    <polyline className="cls-1" points="403.46 3.99 404.07 59.94 404.83 7.2 427.76 11.48" />
                </clipPath>
                <clipPath id="clip06">
                    <line className="cls-1" x1="406.51" y1="31.2" x2="422.72" y2="31.2" />
                </clipPath>
                <clipPath id="clip07">
                    <line className="cls-1" x1="406.51" y1="53.98" x2="425.62" y2="53.98" />
                </clipPath>
                <clipPath id="clip08">
                    <polyline className="cls-1" points="438 2.77 449.42 36.55 450.54 60.86" />
                </clipPath>
                <clipPath id="clip09">
                    <line className="cls-1" x1="460.48" y1="2.77" x2="450.54" y2="38.54" />
                </clipPath>
                <clipPath id="clip10">
                    <path className="cls-3" d="M476.71,8.43s-11.04,1.07-8.13,22.78c0,0-1.16,25.83,8.13,23.39,0,0,12.71.15,8.81-24.48-.04-.25-.08-.49-.12-.74-4.28-25.38,2.96-13.91-8.68-20.94Z" />
                </clipPath>
                <clipPath id="clip11">
                    <path className="cls-3" d="M498.08,5.68l-.57,44.03s4.01,9.63,9.86,5.73c0,0,7.68-.92,7.22-12.5s-.46-36.71-.46-36.71" />
                </clipPath>
                <clipPath id="clip12">
                    <line className="cls-3" x1="526.51" y1="6.23" x2="527.13" y2="59.18" />
                </clipPath>
                <clipPath id="clip13">
                    <path className="cls-3" d="M527.13,11.94s11.77-8.71,15.29,7.8c0,0,4.54,7.19-5.5,12.08s-5.98,0-5.98,0" />
                </clipPath>
                <clipPath id="clip14">
                    <path className="cls-3" d="M536.91,31.82s8.56,6.27,5.5,17.58,5.96,10.55,5.96,10.55" />
                </clipPath>
                <clipPath id="clip15">
                    <path className="cls-1" d="M301,101.87s4.94-20.75-14.33-15.94c0,0-5.29,9.39-1.84,23.15l-1.17,16.52s12.06,15.02,17.45,0" />
                </clipPath>
                <clipPath id="clip16">
                    <path className="cls-1" d="M295.27,130.07s5.39-3.7,5.27-14.58" />
                </clipPath>
            </defs>
            <g className="svg-bg">
                <rect className="cls-2" y="83.88" width="714.81" height="77.78" />
                <path className="cls-3" d="M287.21,54.79c-1.97-2.18-2.95-5.32-2.95-9.4v-2.88h7.49v3.46c0,3.26,1.37,4.9,4.1,4.9,1.34,0,2.36-.4,3.06-1.19.7-.79,1.04-2.08,1.04-3.85,0-2.11-.48-3.97-1.44-5.58-.96-1.61-2.74-3.54-5.33-5.8-3.27-2.88-5.54-5.48-6.84-7.81-1.3-2.33-1.94-4.96-1.94-7.88,0-3.98,1.01-7.07,3.02-9.25,2.02-2.18,4.94-3.28,8.78-3.28s6.66,1.09,8.6,3.28c1.94,2.19,2.92,5.32,2.92,9.4v2.09h-7.49v-2.59c0-1.73-.34-2.99-1.01-3.78-.67-.79-1.66-1.19-2.95-1.19-2.64,0-3.96,1.61-3.96,4.82,0,1.82.49,3.53,1.48,5.11.98,1.58,2.77,3.5,5.36,5.76,3.31,2.88,5.59,5.5,6.84,7.85,1.25,2.35,1.87,5.11,1.87,8.28,0,4.13-1.02,7.3-3.06,9.5-2.04,2.21-5,3.31-8.89,3.31s-6.74-1.09-8.71-3.28Z" />
                <path className="cls-3" d="M312.41,6.95h7.92v20.52h8.5V6.95h7.92v50.4h-7.92v-22.68h-8.5v22.68h-7.92V6.95Z" />
                <path className="cls-3" d="M348.77,6.95h10.73l8.21,50.4h-7.92l-1.44-10.01v.14h-9l-1.44,9.86h-7.34l8.21-50.4ZM357.41,40.65l-3.53-24.91h-.14l-3.46,24.91h7.13Z" />
                <path className="cls-3" d="M371.52,6.95h11.74c4.08,0,7.06.95,8.93,2.84,1.87,1.9,2.81,4.81,2.81,8.75v3.1c0,5.23-1.73,8.54-5.18,9.94v.14c1.92.58,3.28,1.75,4.07,3.53.79,1.78,1.19,4.15,1.19,7.13v8.86c0,1.44.05,2.6.14,3.49.1.89.33,1.76.72,2.63h-8.06c-.29-.82-.48-1.58-.58-2.3-.1-.72-.14-2.02-.14-3.89v-9.22c0-2.3-.37-3.91-1.12-4.82-.74-.91-2.03-1.37-3.85-1.37h-2.74v21.6h-7.92V6.95ZM382.32,28.55c1.58,0,2.77-.41,3.56-1.22.79-.82,1.19-2.18,1.19-4.1v-3.89c0-1.82-.32-3.14-.97-3.96-.65-.82-1.67-1.22-3.06-1.22h-3.6v14.4h2.88Z" />
                <path className="cls-3" d="M400.53,6.95h21.6v7.2h-13.68v13.32h10.87v7.2h-10.87v15.48h13.68v7.2h-21.6V6.95Z" />
                <path className="cls-3" d="M445.46,35.89l-9.58-28.94h8.42l5.4,18.5h.14l5.4-18.5h7.7l-9.58,28.94v21.46h-7.92v-21.46Z" />
                <path className="cls-3" d="M467.78,54.76c-2.06-2.21-3.1-5.33-3.1-9.36v-26.5c0-4.03,1.03-7.15,3.1-9.36,2.06-2.21,5.04-3.31,8.93-3.31s6.86,1.1,8.93,3.31c2.06,2.21,3.1,5.33,3.1,9.36v26.5c0,4.03-1.03,7.15-3.1,9.36-2.06,2.21-5.04,3.31-8.93,3.31s-6.86-1.1-8.93-3.31ZM480.81,45.9v-27.5c0-3.31-1.37-4.97-4.1-4.97s-4.1,1.66-4.1,4.97v27.5c0,3.31,1.37,4.97,4.1,4.97s4.1-1.66,4.1-4.97Z" />
                <path className="cls-3" d="M467.78,54.76c-2.06-2.21-3.1-5.33-3.1-9.36v-26.5c0-4.03,1.03-7.15,3.1-9.36,2.06-2.21,5.04-3.31,8.93-3.31s6.86,1.1,8.93,3.31c2.06,2.21,3.1,5.33,3.1,9.36v26.5c0,4.03-1.03,7.15-3.1,9.36-2.06,2.21-5.04,3.31-8.93,3.31s-6.86-1.1-8.93-3.31ZM480.81,45.9v-27.5c0-3.31-1.37-4.97-4.1-4.97s-4.1,1.66-4.1,4.97v27.5c0,3.31,1.37,4.97,4.1,4.97s4.1-1.66,4.1-4.97Z" />
                <path className="cls-3" d="M496.8,54.79c-2.02-2.18-3.02-5.32-3.02-9.4V6.95h7.92v39.02c0,1.73.35,2.98,1.04,3.74.7.77,1.69,1.15,2.99,1.15s2.29-.38,2.99-1.15c.7-.77,1.04-2.02,1.04-3.74V6.95h7.63v38.45c0,4.08-1.01,7.21-3.02,9.4-2.02,2.19-4.94,3.28-8.78,3.28s-6.77-1.09-8.78-3.28Z" />
                <path className="cls-3" d="M523,6.95h11.74c4.08,0,7.06.95,8.93,2.84,1.87,1.9,2.81,4.81,2.81,8.75v3.1c0,5.23-1.73,8.54-5.18,9.94v.14c1.92.58,3.28,1.75,4.07,3.53.79,1.78,1.19,4.15,1.19,7.13v8.86c0,1.44.05,2.6.14,3.49.1.89.33,1.76.72,2.63h-8.06c-.29-.82-.48-1.58-.58-2.3-.1-.72-.14-2.02-.14-3.89v-9.22c0-2.3-.37-3.91-1.12-4.82-.74-.91-2.03-1.37-3.85-1.37h-2.74v21.6h-7.92V6.95ZM533.8,28.55c1.58,0,2.77-.41,3.56-1.22.79-.82,1.19-2.18,1.19-4.1v-3.89c0-1.82-.32-3.14-.97-3.96-.65-.82-1.67-1.22-3.06-1.22h-3.6v14.4h2.88Z" />
                <path className="cls-3" d="M283.35,131.76c-1.99-2.16-2.99-5.21-2.99-9.14v-27.07c0-3.94,1-6.98,2.99-9.14,1.99-2.16,4.88-3.24,8.68-3.24s6.68,1.08,8.68,3.24c1.99,2.16,2.99,5.21,2.99,9.14v5.33h-7.49v-5.83c0-3.12-1.32-4.68-3.96-4.68s-3.96,1.56-3.96,4.68v28.15c0,3.07,1.32,4.61,3.96,4.61s3.96-1.54,3.96-4.61v-7.7h7.49v7.13c0,3.94-1,6.98-2.99,9.14-1.99,2.16-4.88,3.24-8.68,3.24s-6.68-1.08-8.68-3.24Z" />
                <path className="cls-3" d="M311.11,131.69c-2.06-2.21-3.1-5.33-3.1-9.36v-26.5c0-4.03,1.03-7.15,3.1-9.36,2.06-2.21,5.04-3.31,8.93-3.31s6.86,1.1,8.93,3.31c2.06,2.21,3.1,5.33,3.1,9.36v26.5c0,4.03-1.03,7.15-3.1,9.36-2.06,2.21-5.04,3.31-8.93,3.31s-6.87-1.1-8.93-3.31ZM324.14,122.84v-27.5c0-3.31-1.37-4.97-4.1-4.97s-4.11,1.66-4.11,4.97v27.5c0,3.31,1.37,4.97,4.11,4.97s4.1-1.66,4.1-4.97Z" />
                <path className="cls-3" d="M337.39,83.88h9.94l7.7,30.17h.14v-30.17h7.06v50.4h-8.14l-9.5-36.79h-.14v36.79h-7.06v-50.4Z" />
                <path className="cls-3" d="M374.32,91.08h-8.28v-7.2h24.48v7.2h-8.28v43.2h-7.92v-43.2Z" />
                <path className="cls-3" d="M394.34,83.88h11.74c4.08,0,7.06.95,8.93,2.84,1.87,1.9,2.81,4.81,2.81,8.75v3.1c0,5.23-1.73,8.54-5.18,9.94v.14c1.92.58,3.28,1.75,4.07,3.53.79,1.78,1.19,4.15,1.19,7.13v8.86c0,1.44.05,2.6.14,3.49.1.89.34,1.76.72,2.63h-8.06c-.29-.82-.48-1.58-.58-2.3-.1-.72-.14-2.02-.14-3.89v-9.22c0-2.3-.37-3.91-1.12-4.82-.75-.91-2.03-1.37-3.85-1.37h-2.74v21.6h-7.92v-50.4ZM405.14,105.48c1.58,0,2.77-.41,3.56-1.22.79-.82,1.19-2.18,1.19-4.1v-3.89c0-1.82-.32-3.14-.97-3.96-.65-.82-1.67-1.22-3.06-1.22h-3.6v14.4h2.88Z" />
                <path className="cls-3" d="M429.47,83.88h10.73l8.21,50.4h-7.92l-1.44-10.01v.14h-9l-1.44,9.86h-7.34l8.21-50.4ZM438.11,117.58l-3.53-24.91h-.14l-3.46,24.91h7.13Z" />
                <path className="cls-3" d="M454.56,131.76c-1.99-2.16-2.99-5.21-2.99-9.14v-27.07c0-3.94,1-6.98,2.99-9.14,1.99-2.16,4.88-3.24,8.68-3.24s6.68,1.08,8.68,3.24c1.99,2.16,2.99,5.21,2.99,9.14v5.33h-7.49v-5.83c0-3.12-1.32-4.68-3.96-4.68s-3.96,1.56-3.96,4.68v28.15c0,3.07,1.32,4.61,3.96,4.61s3.96-1.54,3.96-4.61v-7.7h7.49v7.13c0,3.94-1,6.98-2.99,9.14-1.99,2.16-4.88,3.24-8.68,3.24s-6.68-1.08-8.68-3.24Z" />
                <path className="cls-3" d="M485.85,91.08h-8.28v-7.2h24.48v7.2h-8.28v43.2h-7.92v-43.2Z" />
                <path className="cls-3" d="M515.51,83.88h7.63l3.53,38.74h.14l3.74-38.74h8.64l3.74,38.74h.14l3.53-38.74h6.84l-5.11,50.4h-9.86l-3.6-33.98h-.14l-3.6,33.98h-10.51l-5.11-50.4Z" />
                <path className="cls-3" d="M557.49,83.88h7.92v50.4h-7.92v-50.4Z" />
                <path className="cls-3" d="M577.5,91.08h-8.28v-7.2h24.48v7.2h-8.28v43.2h-7.92v-43.2Z" />
                <path className="cls-3" d="M597.52,83.88h7.92v20.52h8.5v-20.52h7.92v50.4h-7.92v-22.68h-8.5v22.68h-7.92v-50.4Z" />
                <path className="cls-3" d="M642.01,131.73c-2.02-2.18-3.02-5.32-3.02-9.4v-38.45h7.92v39.02c0,1.73.35,2.98,1.04,3.74.7.77,1.69,1.15,2.99,1.15s2.29-.38,2.99-1.15c.7-.77,1.04-2.02,1.04-3.74v-39.02h7.63v38.45c0,4.08-1.01,7.21-3.02,9.4-2.02,2.19-4.94,3.28-8.78,3.28s-6.77-1.09-8.78-3.28Z" />
                <path className="cls-3" d="M669.81,131.73c-1.97-2.18-2.95-5.32-2.95-9.4v-2.88h7.49v3.46c0,3.26,1.37,4.9,4.1,4.9,1.34,0,2.36-.4,3.06-1.19.7-.79,1.04-2.08,1.04-3.85,0-2.11-.48-3.97-1.44-5.58-.96-1.61-2.74-3.54-5.33-5.8-3.26-2.88-5.54-5.48-6.84-7.81-1.3-2.33-1.94-4.96-1.94-7.88,0-3.98,1.01-7.07,3.02-9.25,2.02-2.18,4.94-3.28,8.78-3.28s6.66,1.09,8.6,3.28c1.94,2.19,2.92,5.32,2.92,9.4v2.09h-7.49v-2.59c0-1.73-.34-2.99-1.01-3.78s-1.66-1.19-2.95-1.19c-2.64,0-3.96,1.61-3.96,4.82,0,1.82.49,3.53,1.48,5.11.98,1.58,2.77,3.5,5.36,5.76,3.31,2.88,5.59,5.5,6.84,7.85,1.25,2.35,1.87,5.11,1.87,8.28,0,4.13-1.02,7.3-3.06,9.5-2.04,2.21-5,3.31-8.89,3.31s-6.74-1.09-8.71-3.28Z" />
            </g>
            <g className="svg-main">
                <path className="cls-3" d="M697.97,127.37h7.63v7.63h-7.63v-7.63Z" />
            </g>
        </Svg>
    );
};

export default Textanimation;
